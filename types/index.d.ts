/// <reference types="./features.d.ts" />
/// <reference types="./point.d.ts" />
/// <reference types="./polygon.d.ts" />
/// <reference types="./polyline.d.ts" />

/** 要素数据类 */
export class FeatureData {
  declare ID: string
  declare Name: string
  declare Params: unknown
  declare Style: string
  declare Tag: string

  constructor(
    style: string,
    id: string,
    name: string,
    tag: string,
    params: unknown
  )
}

/** Point 数据类 */
export class PointData<T extends PointStyle> extends FeatureData {
  declare Coordinates: Coordinates
  declare IsHeightBasedSurface: IsHeightBasedSurface
  declare Offset: Offset
  declare Style: T

  constructor(
    /** POI 点样式 */
    style: T,
    id: string,
    name: string,
    tag: string,
    coordinates: Coordinates,
    offset: Offset,
    isHeightBasedSurface: IsHeightBasedSurface,
    /** 其他参数 */
    params: PointParamsMap[T]
  )
}

/** Polygon 数据类 */
export class PolygonData<T extends PolygonStyle> extends FeatureData {
  declare Coordinates: PGCoordinates
  declare IsHeightBasedSurface: IsHeightBasedSurface
  declare Offset: Offset
  declare Style: T

  constructor(
    /** Polygon 样式 */
    style: T,
    id: string,
    name: string,
    tag: string,
    coordinates: PGCoordinates,
    offset: Offset,
    isHeightBasedSurface: IsHeightBasedSurface,
    /** 其他参数 */
    params: PolygonParamsMap[T]
  )
}

/** Polyline 数据类 */
export class PolylineData<T extends PolylineStyle> extends FeatureData {
  declare Coordinates: PLCoordinates
  declare Offset: Offset
  declare IsHeightBasedSurface: IsHeightBasedSurface
  declare IsTraceSurface: IsTraceSurface
  declare Style: T

  constructor(
    /** Polyline 点样式 */
    style: T,
    id: string,
    name: string,
    tag: string,
    coordinates: PLCoordinates,
    offset: Offset,
    isHeightBasedSurface: IsHeightBasedSurface,
    isTraceSurface: IsTraceSurface,
    /** 其他参数 */
    params: PLParamsMap[T]
  )
}
